jobs:
  atmi:
    container:
      image: archlinux
      options: --privileged
    name: atmi
    needs:
    - hsa-rocr
    - comgr
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/atmi
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  comgr:
    container:
      image: archlinux
      options: --privileged
    name: comgr
    needs:
    - rocm-device-libs
    - rocm-cmake
    - rocm-llvm
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/comgr
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  hip-runtime-amd:
    container:
      image: archlinux
      options: --privileged
    name: hip-runtime-amd
    needs:
    - comgr
    - rocminfo
    - rocm-llvm
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/hip-runtime-amd
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  hip-runtime-nvidia:
    container:
      image: archlinux
      options: --privileged
    name: hip-runtime-nvidia
    needs:
    - rocm-llvm
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/hip-runtime-nvidia
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  hipblas:
    container:
      image: archlinux
      options: --privileged
    name: hipblas
    needs:
    - rocblas
    - rocsolver
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/hipblas
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  hipcub:
    container:
      image: archlinux
      options: --privileged
    name: hipcub
    needs:
    - rocprim
    - rocm-cmake
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/hipcub
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  hipfft:
    container:
      image: archlinux
      options: --privileged
    name: hipfft
    needs:
    - rocfft
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/hipfft
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  hipfort:
    container:
      image: archlinux
      options: --privileged
    name: hipfort
    needs:
    - rocm-cmake
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/hipfort
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  hipify-clang:
    container:
      image: archlinux
      options: --privileged
    name: hipify-clang
    needs:
    - rocm-llvm
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/hipify-clang
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  hipmagma:
    container:
      image: archlinux
      options: --privileged
    name: hipmagma
    needs:
    - rocm-hip-sdk
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/hip/hipmagma
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  hipsolver:
    container:
      image: archlinux
      options: --privileged
    name: hipsolver
    needs:
    - rocsolver
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/hipsolver
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  hipsparse:
    container:
      image: archlinux
      options: --privileged
    name: hipsparse
    needs:
    - rocsparse
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/hipsparse
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  hsa-amd-aqlprofile-bin:
    container:
      image: archlinux
      options: --privileged
    name: hsa-amd-aqlprofile-bin
    needs: []
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/hsa-amd-aqlprofile-bin
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  hsa-rocr:
    container:
      image: archlinux
      options: --privileged
    name: hsa-rocr
    needs:
    - hsakmt-roct
    - rocm-device-libs
    - rocm-llvm
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/hsa-rocr
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  hsakmt-roct:
    container:
      image: archlinux
      options: --privileged
    name: hsakmt-roct
    needs: []
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/hsakmt-roct
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  migraphx:
    container:
      image: archlinux
      options: --privileged
    name: migraphx
    needs:
    - rocm-cmake
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/migraphx
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  miopen-hip:
    container:
      image: archlinux
      options: --privileged
    name: miopen-hip
    needs:
    - rocblas
    - rocm-clang-ocl
    - rocm-llvm-mlir
    - rocm-cmake
    - miopengemm
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/miopen-hip
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  miopen-opencl:
    container:
      image: archlinux
      options: --privileged
    name: miopen-opencl
    needs:
    - rocblas
    - rocm-llvm
    - rocm-llvm-mlir
    - rocm-cmake
    - miopengemm
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/miopen-opencl
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  miopengemm:
    container:
      image: archlinux
      options: --privileged
    name: miopengemm
    needs:
    - rocm-cmake
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/miopengemm
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  mivisionx:
    container:
      image: archlinux
      options: --privileged
    name: mivisionx
    needs:
    - miopen-hip
    - migraphx
    - rocm-cmake
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/mivisionx
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  openmp-extras:
    container:
      image: archlinux
      options: --privileged
    name: openmp-extras
    needs:
    - hsa-rocr
    - rocm-llvm
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/openmp-extras
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  python-pytorch-rocm:
    container:
      image: archlinux
      options: --privileged
    name: python-pytorch-rocm
    needs:
    - rccl
    - rocm-hip-sdk
    - roctracer
    - hipmagma
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/pytorch/python-pytorch-rocm
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  python-torchvision-rocm:
    container:
      image: archlinux
      options: --privileged
    name: python-torchvision-rocm
    needs:
    - python-pytorch-rocm
    - rocm-hip-sdk
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/pytorch/python-torchvision-rocm
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rccl:
    container:
      image: archlinux
      options: --privileged
    name: rccl
    needs:
    - rocm-smi-lib
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rccl
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocalution:
    container:
      image: archlinux
      options: --privileged
    name: rocalution
    needs:
    - rocsparse
    - rocblas
    - rocprim
    - rocrand
    - rocm-cmake
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocalution
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocblas:
    container:
      image: archlinux
      options: --privileged
    name: rocblas
    needs:
    - rocm-cmake
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocblas
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocfft:
    container:
      image: archlinux
      options: --privileged
    name: rocfft
    needs: []
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocfft
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-bandwidth-test:
    container:
      image: archlinux
      options: --privileged
    name: rocm-bandwidth-test
    needs:
    - hsa-rocr
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-bandwidth-test
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-clang-ocl:
    container:
      image: archlinux
      options: --privileged
    name: rocm-clang-ocl
    needs:
    - rocm-llvm
    - rocm-opencl-runtime
    - rocm-cmake
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-clang-ocl
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-cmake:
    container:
      image: archlinux
      options: --privileged
    name: rocm-cmake
    needs: []
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-cmake
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-core:
    container:
      image: archlinux
      options: --privileged
    name: rocm-core
    needs: []
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-core
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-dbgapi:
    container:
      image: archlinux
      options: --privileged
    name: rocm-dbgapi
    needs:
    - comgr
    - hsa-rocr
    - rocm-cmake
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-dbgapi
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-debug-agent:
    container:
      image: archlinux
      options: --privileged
    name: rocm-debug-agent
    needs:
    - rocm-dbgapi
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-debug-agent
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-developer-tools:
    container:
      image: archlinux
      options: --privileged
    name: rocm-developer-tools
    needs:
    - rocm-core
    - rocm-hip-sdk
    - rocprofiler
    - roctracer
    - rocm-gdb
    - rocm-dbgapi
    - rocm-debug-agent
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-developer-tools
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-device-libs:
    container:
      image: archlinux
      options: --privileged
    name: rocm-device-libs
    needs:
    - rocm-cmake
    - rocm-llvm
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-device-libs
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-gdb:
    container:
      image: archlinux
      options: --privileged
    name: rocm-gdb
    needs:
    - rocm-dbgapi
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-gdb
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-hip-libraries:
    container:
      image: archlinux
      options: --privileged
    name: rocm-hip-libraries
    needs:
    - rocm-core
    - rocm-hip-runtime
    - hipblas
    - hipfft
    - hipsparse
    - hipsolver
    - rccl
    - rocalution
    - rocblas
    - rocfft
    - rocrand
    - rocsolver
    - rocsparse
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-hip-libraries
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-hip-runtime:
    container:
      image: archlinux
      options: --privileged
    name: rocm-hip-runtime
    needs:
    - rocm-core
    - rocm-language-runtime
    - rocminfo
    - hip-runtime-amd
    - rocm-llvm
    - rocm-cmake
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-hip-runtime
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-hip-sdk:
    container:
      image: archlinux
      options: --privileged
    name: rocm-hip-sdk
    needs:
    - rocm-hip-libraries
    - rocm-llvm
    - rocm-core
    - rocm-hip-runtime
    - hipblas
    - hipcub
    - hipfft
    - hipsparse
    - hipsolver
    - miopen-hip
    - rccl
    - rocalution
    - rocblas
    - rocfft
    - rocprim
    - rocrand
    - rocsolver
    - rocsparse
    - rocthrust
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-hip-sdk
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-language-runtime:
    container:
      image: archlinux
      options: --privileged
    name: rocm-language-runtime
    needs:
    - rocm-core
    - hsakmt-roct
    - hsa-rocr
    - rocm-device-libs
    - comgr
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-language-runtime
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-llvm:
    container:
      image: archlinux
      options: --privileged
    name: rocm-llvm
    needs: []
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-llvm
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-llvm-alt-bin:
    container:
      image: archlinux
      options: --privileged
    name: rocm-llvm-alt-bin
    needs: []
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-llvm-alt-bin
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-llvm-mlir:
    container:
      image: archlinux
      options: --privileged
    name: rocm-llvm-mlir
    needs: []
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-llvm-mlir
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-opencl-runtime:
    container:
      image: archlinux
      options: --privileged
    name: rocm-opencl-runtime
    needs:
    - hsakmt-roct
    - hsa-rocr
    - comgr
    - rocm-cmake
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-opencl-runtime
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-opencl-sdk:
    container:
      image: archlinux
      options: --privileged
    name: rocm-opencl-sdk
    needs:
    - rocm-core
    - rocm-language-runtime
    - rocm-opencl-runtime
    - rocm-llvm
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-opencl-sdk
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-smi-lib:
    container:
      image: archlinux
      options: --privileged
    name: rocm-smi-lib
    needs:
    - hsa-rocr
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-smi-lib
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocm-validation-suite:
    container:
      image: archlinux
      options: --privileged
    name: rocm-validation-suite
    needs:
    - rocblas
    - rocm-smi-lib
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocm-validation-suite
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocminfo:
    container:
      image: archlinux
      options: --privileged
    name: rocminfo
    needs:
    - hsa-rocr
    - rocm-cmake
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocminfo
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocprim:
    container:
      image: archlinux
      options: --privileged
    name: rocprim
    needs:
    - rocm-cmake
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocprim
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocprofiler:
    container:
      image: archlinux
      options: --privileged
    name: rocprofiler
    needs:
    - hsa-rocr
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocprofiler
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocrand:
    container:
      image: archlinux
      options: --privileged
    name: rocrand
    needs: []
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocrand
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocsolver:
    container:
      image: archlinux
      options: --privileged
    name: rocsolver
    needs:
    - rocblas
    - rocm-cmake
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocsolver
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocsparse:
    container:
      image: archlinux
      options: --privileged
    name: rocsparse
    needs:
    - rocprim
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocsparse
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocthrust:
    container:
      image: archlinux
      options: --privileged
    name: rocthrust
    needs:
    - rocprim
    - rocm-cmake
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocthrust
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  roctracer:
    container:
      image: archlinux
      options: --privileged
    name: roctracer
    needs:
    - rocprofiler
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/roctracer
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
  rocwmma:
    container:
      image: archlinux
      options: --privileged
    name: rocwmma
    needs:
    - rocblas
    - rocm-cmake
    runs-on: ubuntu-latest
    steps:
    - name: Download artifacts
      uses: actions/download-artifact@v3
      with:
        path: ~/artifacts/
    - name: Upgrade system
      uses: sasha0552/rocm4arch/actions/system-upgrade@master
    - name: Install required packages
      uses: sasha0552/rocm4arch/actions/system-packages@master
      with:
        additional: base-devel
    - name: Create local package repository
      uses: sasha0552/rocm4arch/actions/system-localrepo@master
    - name: Install package repositories
      uses: sasha0552/rocm4arch/actions/system-repositories@master
    - name: Create users
      uses: sasha0552/rocm4arch/actions/system-users@master
    - name: Checkout repository
      uses: actions/checkout@v3
      with:
        submodules: true
    - name: Build package
      uses: sasha0552/rocm4arch/actions/package-build@master
      with:
        package_path: packages/rocm/rocwmma
    - name: Upload artifacts
      uses: actions/upload-artifact@v3
      with:
        path: packages/**/*.pkg.tar.zst
name: Builder (Autogenerated)
'on':
- workflow_dispatch
run-name: Build package tree
